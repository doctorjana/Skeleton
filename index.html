<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
<meta name="3d Skeleton" content="https://docjana.com">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<style type="text/css">
body {
    background-color: #000;
    font-family: 'Roboto',sans-serif;
    margin: 0;
    overflow: hidden;
    width: 100%;
    color: #fff;
    text-align: justify;
}
    .information{
        position: absolute;
        left: 0;
        width: 30%;
        height: 80%;
        padding: 5px;
        overflow-y: auto;
    }
    
    @media all and (orientation:portrait){
        .information{bottom:0; width:99%; height: 60%}
    }
</style>

        
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r74/three.min.js"></script>
        <script src="OBJLoader.js"></script>
        <script src="ctm.js"></script>
        <script src="CTMLoader.js"></script>
        <script src="lzma.js"></script>
        <script type="text/javascript" src="TrackballControls.js"></script>
        <script src="Projector.js"></script>
    </head>
    <body>
            <div class="information">
        <h1 id="heading" style="text-transform:uppercase">HEADING</h1>
        <div id="description">Bonbon lollipop marzipan sweet chocolate. Oat cake lollipop cake lemon drops marshmallow sweet roll. Sweet roll sweet roll marshmallow danish jujubes croissant. Fruitcake soufflé brownie fruitcake. Wafer cake fruitcake gummi bears cotton candy. Tiramisu lemon drops cheesecake cupcake marshmallow tart bonbon ice cream oat cake. Sweet roll dessert sweet roll donut candy canes. Wafer tiramisu fruitcake toffee. Pie gummi bears muffin cake cookie soufflé sugar plum fruitcake cheesecake. Cupcake chocolate bar cookie topping. Lemon drops cake gingerbread candy canes toffee pudding gummies. Pastry gummi bears tiramisu bonbon. Liquorice jelly beans bonbon danish wafer biscuit croissant.</div>
    </div>
<script>
var container;
var controls;
var camera, scene, renderer;


// custom global variables
var cube;
var projector, mouse = { x: 0, y: 0 }, INTERSECTED;

document.addEventListener("DOMContentLoaded", start_app, false);

function start_app() {
    init();
    animate();
}



function init() {

    container = document.createElement( 'div' );
    document.body.appendChild( container );

    camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 100000 );
    camera.position.z = 1000;

    

    // scene

    scene = new THREE.Scene();

    var ambient = new THREE.AmbientLight( 0x101030 );
    scene.add( ambient );

    var directionalLight = new THREE.DirectionalLight( 0xCABA7B );
    directionalLight.position.set( 0, 0, .1 );
    scene.add( directionalLight );

    var directionalLight = new THREE.DirectionalLight( 0xCABA7B );
    directionalLight.position.set( 0, 0, -1 );
    scene.add( directionalLight );   


    var dirLight = new THREE.DirectionalLight(0xffffff, 0.5);
    dirLight.position.set(100, 100, 50);
    scene.add(dirLight);


    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/Skull.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "skull";
    }, {} );
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/Mandible.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "Mandible";
    }, {} );

    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/Sacrum.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "Sacrum";
    }, {} );
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/C1.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "Atlas Vertebra";
    }, {} );
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/C2.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "Axis";
    }, {} );
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/C3.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "C3 Vertebra";
    }, {} );    
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/C4.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "C4 Vertebra";
    }, {} );        
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/C5.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "C5 Vertebra";
    }, {} );        
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/C6.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "C6 Vertebra";
    }, {} );        
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/C7.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "C7 Vertebra";
    }, {} );     
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/L1.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "L1 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/L2.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "L2 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/L3.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "L3 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/L4.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "L4 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/L5.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "L5 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T1.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T1 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T2.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T2 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T3.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T3 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T4.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T4 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T5.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T5 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T6.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T6 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T7.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T7 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T8.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T8 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T9.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T9 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T10.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T10 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T11.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T11 Vertebra";
    }, {} ); 
    
    var loader = new THREE.CTMLoader();
    loader.load( 'ctm/T12.ctm',  function( geometry, material ){
    // create mesh and position it
    var material = new THREE.MeshPhongMaterial({ color: 0xFFEC9F, shininess: 15 }),
    mesh = new THREE.Mesh( geometry, material );
    scene.add( mesh ); 
        mesh.name = "T12 Vertebra";
    }, {} ); 
    
    
    
    
    
    
    
    
    
    
    
    
    
    //

    renderer = new THREE.WebGLRenderer({ alpha: true });
    renderer.setPixelRatio( window.devicePixelRatio );
    renderer.setSize( window.innerWidth, window.innerHeight );
    container.appendChild( renderer.domElement );
//controls
        controls = new THREE.TrackballControls(camera, renderer.domElement);
    controls.rotateSpeed = 0.4;
    controls.noZoom = false;
    controls.noPan = false;
    controls.staticMoving = false;
    controls.minDistance = 50;
    controls.maxDistance = 1300;
    controls.dynamicDampingFactor = 1;

    
//skybox


    texture_placeholder = document.createElement( 'canvas' );
    texture_placeholder.width = 128;
    texture_placeholder.height = 128;
    var context = texture_placeholder.getContext( '2d' );
    context.fillStyle = 'rgb( 200, 200, 200 )';
    context.fillRect( 0, 0, texture_placeholder.width, texture_placeholder.height );   
    var materials = [
        loadTexture( 'img/starfield_rt.jpg' ), // right
        loadTexture( 'img/starfield_lf.jpg' ), // left
        loadTexture( 'img/starfield_up.jpg' ), // top
        loadTexture( 'img/starfield_dn.jpg' ), // bottom
        loadTexture( 'img/starfield_bk.jpg' ), // back
        loadTexture( 'img/starfield_ft.jpg' )  // front
    ];
    mesh = new THREE.Mesh( new THREE.BoxGeometry(3000, 3000, 3000, 7, 7, 7 ), new THREE.MultiMaterial( materials ) );
    mesh.scale.x = - 1;
    scene.add( mesh );    


function loadTexture( path ) {
    var texture = new THREE.Texture( texture_placeholder );
    var material = new THREE.MeshBasicMaterial( { map: texture, overdraw: 0.5 } );
    var image = new Image();
    image.onload = function () {
        texture.image = this;
        texture.needsUpdate = true;
    };
    image.src = path;
    return material;
}    

    window.addEventListener( 'resize', onWindowResize, false );
	
    // initialize object to perform world/screen calculations
	projector = new THREE.Projector();

    
    
	// when the mouse moves, call the given function
	document.addEventListener( 'mousemove', onDocumentMouseMove, false );
}

function onDocumentMouseMove( event ) 
{
	// the following line would stop any other event handler from firing
	// (such as the mouse's TrackballControls)
	// event.preventDefault();
	
	// update the mouse variable
	mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;
	mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;
}
function onWindowResize() {


    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();

    renderer.setSize( window.innerWidth, window.innerHeight );

}

function update()
{
	// find intersections

	// create a Ray with origin at the mouse position
	//   and direction into the scene (camera direction)
	var vector = new THREE.Vector3( mouse.x, mouse.y, 1 );
	vector.unproject( camera );
	var ray = new THREE.Raycaster( camera.position, vector.sub( camera.position ).normalize() );

	// create an array containing all objects in the scene with which the ray intersects
	var intersects = ray.intersectObjects( scene.children );

	// INTERSECTED = the object in the scene currently closest to the camera 
	//		and intersected by the Ray projected from the mouse position 	
	
	// if there is one (or more) intersections
	if ( intersects.length > 0 )
	{
		// if the closest object intersected is not the currently stored intersection object
		if ( intersects[ 0 ].object != INTERSECTED ) 
		{
            
		    // restore previous intersection object (if it exists) to its original color
			if ( INTERSECTED ) 
                
				INTERSECTED.material.color.setHex( INTERSECTED.currentHex );
			     // store reference to closest object as current intersection object
                INTERSECTED = intersects[ 0 ].object;
                // store color of closest object (for later restoration)
                INTERSECTED.currentHex = INTERSECTED.material.color.getHex();
                // set a new color for closest object
                INTERSECTED.material.color.setHex( 0xf44336 );
                
                console.log(INTERSECTED.name);
                
                //replace
                document.getElementById("heading").innerHTML= INTERSECTED.name;
                document.getElementById("description").innerHTML= INTERSECTED.name;
                
            }
        } 
        else // there are no intersections
        {
            // restore previous intersection object (if it exists) to its original color
            if ( INTERSECTED ) 
                INTERSECTED.material.color.setHex( INTERSECTED.currentHex );
            // remove previous intersection object reference
            //     by setting current intersection object to "nothing"
            INTERSECTED = null;

        }

}

//

function animate() {
    requestAnimationFrame( animate );
    controls.update();
    render();
    update();
}

function render() {
    camera.lookAt( scene.position );
    renderer.setClearColor( 0x212121, 1);
    renderer.render( scene, camera );

}



		</script>
	</body>
</html>